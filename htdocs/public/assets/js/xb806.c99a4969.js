(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["xb806"],{"0798":function(t,e,i){"use strict";i("0c18");var s=i("10d2"),n=i("afdd"),o=i("9d26"),r=i("f2e7"),a=i("7560"),c=i("2b0e"),l=c["a"].extend({name:"transitionable",props:{mode:String,origin:String,transition:String}}),u=i("58df"),p=i("d9bd");function d(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function h(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?d(Object(i),!0).forEach((function(e){m(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):d(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function m(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}e["a"]=Object(u["a"])(s["a"],r["a"],l).extend({name:"v-alert",props:{border:{type:String,validator:function(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,icon:{default:"",type:[Boolean,String],validator:function(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator:function(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder:function(){if(!this.border)return null;var t={staticClass:"v-alert__border",class:m({},"v-alert__border--".concat(this.border),!0)};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible:function(){var t=this;if(!this.dismissible)return null;var e=this.iconColor;return this.$createElement(n["a"],{staticClass:"v-alert__dismissible",props:{color:e,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:function(){return t.isActive=!1}}},[this.$createElement(o["a"],{props:{color:e}},"$cancel")])},__cachedIcon:function(){return this.computedIcon?this.$createElement(o["a"],{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes:function(){var t=h({},s["a"].options.computed.classes.call(this),{"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text});return this.border&&(t["v-alert--border-".concat(this.border)]=!0),t},computedColor:function(){return this.color||this.type},computedIcon:function(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&"$".concat(this.type))},hasColoredIcon:function(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText:function(){return this.text||this.outlined},iconColor:function(){return this.hasColoredIcon?this.computedColor:void 0},isDark:function(){return!(!this.type||this.coloredBorder||this.outlined)||a["a"].options.computed.isDark.call(this)}},created:function(){this.$attrs.hasOwnProperty("outline")&&Object(p["a"])("outline","outlined",this)},methods:{genWrapper:function(){var t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent:function(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert:function(){var t={staticClass:"v-alert",attrs:{role:"alert"},class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){var e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle:function(){this.isActive=!this.isActive}},render:function(t){var e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},"0c18":function(t,e,i){},"2c64":function(t,e,i){},"3d86":function(t,e,i){},"8bf8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"viewContainer"},[i("v-container",{staticClass:"pa-0"},[i("v-container",{staticClass:"inner-container"},[i("v-card",{staticClass:"mt-md-12 mt-0 content-tabs-wrapper",attrs:{tile:"",elevation:"0"}},[i("v-tabs",{staticClass:"px-5 content-tabs",attrs:{color:t.$store.state.app.dark?"white":"black","icons-and-text":"",height:"100","slider-size":"4","show-arrows":""}},[i("v-tabs-slider"),i("v-tab",{staticClass:"no-caps",attrs:{to:{name:"settings.profile"},ripple:!1}},[t._v(" "+t._s(t.$t("profile"))+" "),i("v-icon",{attrs:{size:"24"}},[t._v("mdi-account-circle")])],1),i("v-tab",{staticClass:"no-caps",attrs:{to:{name:"settings.business"},ripple:!1}},[t._v(" "+t._s(t.$t("business"))+" "),i("v-icon",{attrs:{size:"24"}},[t._v("mdi-briefcase")])],1),i("v-tab",{staticClass:"no-caps",attrs:{to:{name:"settings.business.subscription"},ripple:!1}},[t._v(" "+t._s(t.$t("subscription"))+" "),i("v-icon",{attrs:{size:"24"}},[t._v("mdi-domain")])],1)],1),i("v-divider")],1),i("v-tabs-items",{staticStyle:{"background-color":"transparent"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[i("v-tab-item",{attrs:{transition:!1,"reverse-transition":!1,value:"tab-0"}},[i("v-container",{staticClass:"pa-0"},[i("v-row",{attrs:{"no-gutters":""}},[i("v-col",{attrs:{cols:"12",sm:"9",md:"6"}},[i("v-card",{staticClass:"content-tabs-card pa-5 mb-0 mb-md-12",attrs:{flat:"",tile:""}},[i("v-card-text",[t.paymentProcessed?t._e():i("div",[t.$auth.user().premium?t._e():i("div",[i("p",{staticClass:"title font-weight-bold"},[t._v(t._s(t.$t("currently_free_account")))]),i("p",{staticClass:"body-1"},[i("i18n",{attrs:{path:"premium_account_desc1"},scopedSlots:t._u([{key:"change_the_rules",fn:function(){return[i("router-link",{attrs:{to:{name:"business.rules"}}},[t._v(t._s(t.$t("change_the_rules").toLowerCase()))])]},proxy:!0},{key:"add_staff_members",fn:function(){return[i("router-link",{attrs:{to:{name:"business.staff"}}},[t._v(t._s(t.$t("add_staff_members").toLowerCase()))])]},proxy:!0}],null,!1,2387545938)})],1),i("p",{staticClass:"body-1"},[t._v(t._s(t.$t("premium_account_desc2")))]),t.loading?t._e():i("ValidationObserver",{ref:"subscriptionForm",scopedSlots:t._u([{key:"default",fn:function(e){var s=e.invalid;return[i("v-form",{attrs:{id:"subscriptionForm","lazy-validation":"",autocomplete:"off",method:"post","accept-charset":"UTF-8"},on:{submit:function(e){return e.preventDefault(),t.goToCheckout()}}},[i("ValidationProvider",{attrs:{rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("v-radio-group",{staticClass:"title",attrs:{disabled:!0!==t.$init.config.demo&&"manual"==t.subscriptionSettings.gateway},model:{value:t.subscriptionForm.months,callback:function(e){t.$set(t.subscriptionForm,"months",e)},expression:"subscriptionForm.months"}},[i("v-radio",{staticClass:"ma-2",attrs:{label:t.$t("get_monthly_subscription",{price:t.formatCurrency(t.subscriptionSettings.premium_price_monthly,t.subscriptionSettings.premium_price_currency)}),value:"1"}}),i("v-radio",{staticClass:"ma-2",attrs:{label:t.$t("get_yearly_subscription",{price:t.formatCurrency(t.subscriptionSettings.premium_price_yearly,t.subscriptionSettings.premium_price_currency)})+" - "+t.$t("save_percentage",{percentage:Math.round((12*t.subscriptionSettings.premium_price_monthly-t.subscriptionSettings.premium_price_yearly)/(t.subscriptionSettings.premium_price_yearly/100))}),value:"12"}})],1)]}}],null,!0)}),i("v-alert",{staticClass:"mb-5",attrs:{value:!0===t.$init.config.demo,type:"info",tile:""}},[i("p",[t._v(t._s(t.$t("demo_payments")))]),"stripe"==t.subscriptionSettings.gateway?i("p",{domProps:{innerHTML:t._s(t.$t("stripe_test"))}}):t._e()]),!0!==t.$init.config.demo&&"manual"==t.subscriptionSettings.gateway?i("p",{staticClass:"body-1"},[t._v(t._s(t.$t("premium_account_manual",{email:t.subscriptionSettings.email})))]):t._e(),!0===t.$init.config.demo&&"manual"==t.subscriptionSettings.gateway||"manual"!=t.subscriptionSettings.gateway?i("v-btn",{staticClass:"no-caps",attrs:{type:"submit",depressed:"",tile:"",block:"","x-large":"",color:"ctaBg ctaFg--text",loading:t.subscriptionForm.loading,disabled:t.subscriptionForm.loading||s}},[t._v(" "+t._s(t.$t("go_to_checkout"))+" "),i("v-icon",{attrs:{right:""}},[t._v("mdi-arrow-right")])],1):t._e()],1)]}}],null,!1,1983530432)})],1),t.$auth.user().premium&&null!==t.subscriptionSettings?i("div",[i("p",{staticClass:"title font-weight-bold"},[t._v(t._s(t.$t("currently_premium_account")))]),i("p",{staticClass:"body-1"},[t._v(t._s(t.$t("premium_subscription_end_date",{expires_date:t.formatDate(t.subscriptionSettings.expires_at,"LL"),expires_friendly:t.formatDate(t.subscriptionSettings.expires_at,"ago")})))]),i("p",{staticClass:"body-1"},[t._v(t._s(t.$t("premium_account_info1")))]),i("p",{staticClass:"body-1"},[t._v(t._s(t.$t("premium_account_info2")))]),"stripe"==t.subscriptionSettings.gateway?i("div",[t.subscriptionSettings.remote_customer_id?i("v-btn",{staticClass:"no-caps",attrs:{color:"red darken-2 white--text mt-5","x-large":"",depressed:"",loading:t.loading,disabled:t.loading},on:{click:t.cancelSubscription}},[t._v(t._s(t.$t("cancel_subscription")))]):t._e(),t.subscriptionSettings.remote_customer_id?t._e():i("p",{staticClass:"body-1 font-weight-bold red--text text--darken-2"},[t._v(t._s(t.$t("subscription_cancelled_info")))])],1):t._e()]):t._e()]),t.paymentProcessed?i("div",[i("p",{staticClass:"title font-weight-bold"},[t._v(t._s(t.$t("thank_you_for_purchase")))]),"stripe"==t.paymentProcessedGateway?i("div",[i("p",{staticClass:"body-1"},[t._v(t._s(t.$t("payment_processed1")))]),i("p",{staticClass:"body-1"},[t._v(t._s(t.$t("payment_processed2")))])]):!0===t.$init.config.demo&&"manual"==t.subscriptionSettings.gateway?i("div",[i("p",{staticClass:"body-1"},[t._v(t._s(t.$t("you_now_have_premium")))])]):t._e()]):t._e()])],1)],1)],1)],1)],1)],1)],1)],1)],1)},n=[],o={data:function(){return{locale:"en",tab:"tab-0",loading:!0,subscriptionSettings:null,paymentProcessed:!1,paymentProcessedGateway:null,subscriptionCancelled:!1,subscriptionForm:{loading:!1,months:null},stripeHandler:null,selectedMonths:null,selectedRemotePlanId:null}},created:function(){var t=this;this.locale=this.$auth.check()?this.$auth.user().locale:Intl.DateTimeFormat().resolvedOptions().locale||this.$i18n.locale,this.moment.locale(this.locale.substr(0,2)),this.axios.get("/business/subscription/settings",{params:{locale:this.$i18n.locale}}).then((function(e){if(t.subscriptionSettings=e.data,t.loading=!1,"stripe"==t.subscriptionSettings.gateway){var i={load:function(t,e){var i,s=document.createElement("script");s.setAttribute("src",t),e&&(s.onreadystatechange=s.onload=function(){i||e(),i=!0}),document.getElementsByTagName("head")[0].appendChild(s)}},s=t;i.load("//checkout.stripe.com/checkout.js",(function(){s.stripeHandler=window.StripeCheckout.configure({key:s.subscriptionSettings.key,image:null,locale:"auto",token:function(t){s.subscriptionForm.loading=!0,s.axios.post("/business/stripe/token",{token:t.id,email:t.email,type:t.type,stripe_plan_id:s.selectedRemotePlanId,months:s.selectedMonths}).then((function(t){s.paymentProcessed=!0,s.paymentProcessedGateway="stripe",s.subscriptionForm.loading=!1})).catch((function(t){s.$root.$snackbar("An unknow error has occured. Please refresh this page and try again. Contact us if the error persists."),s.subscriptionForm.loading=!1,console.log(t)}))}})}))}}))},methods:{formatNumber:function(t){return new Intl.NumberFormat(this.locale.replace("_","-")).format(t)},formatCurrency:function(t,e){return new Intl.NumberFormat(this.locale.replace("_","-"),{style:"currency",currency:e}).format(t)},formatDate:function(t,e){return t=null===t?"-":"ago"==e?this.moment(t).fromNow():this.moment(t).format(e),t},goToCheckout:function(){var t=this;if(!0===this.$init.config.demo&&"manual"==this.subscriptionSettings.gateway)this.subscriptionForm.loading=!0,this.axios.post("/business/subscription/demo",{locale:this.locale,months:this.subscriptionForm.months}).then((function(e){"success"===e.data.status&&(t.$auth.user(e.data.user),t.paymentProcessed=!0)})).catch((function(e){if("error"===e.response.data.status){t.errorMsg=e.response.data.error;var i=e.response.data.errors||[];for(var s in i)t.$refs["subscriptionForm."+s].applyResult({errors:i[s],valid:!1,failedRules:{}})}})).finally((function(){window.scrollTo(0,0),t.subscriptionForm.loading=!1}));else if("manual"==this.subscriptionSettings.gateway)this.subscriptionForm.loading=!0;else if("stripe"==this.subscriptionSettings.gateway){var e,i,s;1==this.subscriptionForm.months&&(i=this.$t("monthly_subscription"),e=this.subscriptionSettings.plan_id_monthly,s=100*this.subscriptionSettings.premium_price_monthly),12==this.subscriptionForm.months&&(i=this.$t("annual_subscription"),e=this.subscriptionSettings.plan_id_yearly,s=100*this.subscriptionSettings.premium_price_yearly),this.selectedMonths=this.subscriptionForm.months,this.selectedRemotePlanId=e,this.stripeHandler.open({name:i,description:null,currency:this.subscriptionSettings.premium_price_currency,amount:s})}},cancelSubscription:function(){var t=this,e=this;"stripe"==this.subscriptionSettings.gateway&&this.$root.$confirm(this.$t("cancel_subscription"),this.$t("cancel_subscription_confirm")).then((function(i){i&&(e.loading=!0,t.axios.post("/business/stripe/cancel").then((function(t){e.subscriptionCancelled=!0,e.subscriptionSettings.remote_customer_id=null,e.loading=!1})).catch((function(t){console.log(t),e.loading=!1})))}))}}},r=o,a=i("2877"),c=i("6544"),l=i.n(c),u=i("0798"),p=i("8336"),d=i("b0af"),h=i("99d9"),m=i("62ad"),b=i("a523"),f=i("ce7e"),g=i("4bd4"),_=i("132d"),v=(i("2c64"),i("ba87")),y=i("9d26"),C=i("c37a"),S=i("7e2b"),w=i("a9ad"),$=i("4e82"),O=i("5311"),j=i("7560"),k=i("fe09"),P=i("80d2"),x=i("58df");function I(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function F(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?I(Object(i),!0).forEach((function(e){D(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):I(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function D(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var B=Object(x["a"])(S["a"],w["a"],O["a"],Object($["a"])("radioGroup"),j["a"]),E=B.extend().extend({name:"v-radio",inheritAttrs:!1,props:{disabled:Boolean,id:String,label:String,name:String,offIcon:{type:String,default:"$radioOff"},onIcon:{type:String,default:"$radioOn"},readonly:Boolean,value:{default:null}},data:function(){return{isFocused:!1}},computed:{classes:function(){return F({"v-radio--is-disabled":this.isDisabled,"v-radio--is-focused":this.isFocused},this.themeClasses,{},this.groupClasses)},computedColor:function(){return k["a"].options.computed.computedColor.call(this)},computedIcon:function(){return this.isActive?this.onIcon:this.offIcon},computedId:function(){return C["a"].options.computed.computedId.call(this)},hasLabel:C["a"].options.computed.hasLabel,hasState:function(){return(this.radioGroup||{}).hasState},isDisabled:function(){return this.disabled||!!(this.radioGroup||{}).disabled},isReadonly:function(){return this.readonly||!!(this.radioGroup||{}).readonly},computedName:function(){return this.name||!this.radioGroup?this.name:this.radioGroup.name||"radio-".concat(this.radioGroup._uid)},rippleState:function(){return k["a"].options.computed.rippleState.call(this)},validationState:function(){return(this.radioGroup||{}).validationState||this.computedColor}},methods:{genInput:function(t){return k["a"].options.methods.genInput.call(this,"radio",t)},genLabel:function(){var t=this;return this.hasLabel?this.$createElement(v["a"],{on:{click:function(e){e.preventDefault(),t.onChange()}},attrs:{for:this.computedId},props:{color:this.validationState,focused:this.hasState}},Object(P["q"])(this,"label")||this.label):null},genRadio:function(){return this.$createElement("div",{staticClass:"v-input--selection-controls__input"},[this.$createElement(y["a"],this.setTextColor(this.validationState,{props:{dense:this.radioGroup&&this.radioGroup.dense}}),this.computedIcon),this.genInput(F({name:this.computedName,value:this.value},this.attrs$)),this.genRipple(this.setTextColor(this.rippleState))])},onFocus:function(t){this.isFocused=!0,this.$emit("focus",t)},onBlur:function(t){this.isFocused=!1,this.$emit("blur",t)},onChange:function(){this.isDisabled||this.isReadonly||this.isActive||this.toggle()},onKeydown:function(){}},render:function(t){var e={staticClass:"v-radio",class:this.classes};return t("div",e,[this.genRadio(),this.genLabel()])}}),T=(i("ec29"),i("3d86"),i("604c")),V=i("8547");function G(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,s)}return i}function L(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?G(Object(i),!0).forEach((function(e){R(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):G(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}function R(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}var A=Object(x["a"])(V["a"],T["a"],C["a"]),N=A.extend({name:"v-radio-group",provide:function(){return{radioGroup:this}},props:{column:{type:Boolean,default:!0},height:{type:[Number,String],default:"auto"},name:String,row:Boolean,value:null},computed:{classes:function(){return L({},C["a"].options.computed.classes.call(this),{"v-input--selection-controls v-input--radio-group":!0,"v-input--radio-group--column":this.column&&!this.row,"v-input--radio-group--row":this.row})}},methods:{genDefaultSlot:function(){return this.$createElement("div",{staticClass:"v-input--radio-group__input",attrs:{id:this.id,role:"radiogroup","aria-labelledby":this.computedId}},C["a"].options.methods.genDefaultSlot.call(this))},genInputSlot:function(){var t=C["a"].options.methods.genInputSlot.call(this);return delete t.data.on.click,t},genLabel:function(){var t=C["a"].options.methods.genLabel.call(this);return t?(t.data.attrs.id=this.computedId,delete t.data.attrs.for,t.tag="legend",t):null},onClick:T["a"].options.methods.onClick}}),M=i("0fd9"),z=i("71a3"),H=i("c671"),q=i("fe57"),J=i("aac8"),W=i("9a96"),K=Object(a["a"])(r,s,n,!1,null,null,null);e["default"]=K.exports;l()(K,{VAlert:u["a"],VBtn:p["a"],VCard:d["a"],VCardText:h["b"],VCol:m["a"],VContainer:b["a"],VDivider:f["a"],VForm:g["a"],VIcon:_["a"],VRadio:E,VRadioGroup:N,VRow:M["a"],VTab:z["a"],VTabItem:H["a"],VTabs:q["a"],VTabsItems:J["a"],VTabsSlider:W["a"]})}}]);
//# sourceMappingURL=xb806.c99a4969.js.map